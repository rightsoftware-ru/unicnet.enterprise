# –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

- [–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ Unicnet](#-unicnet)
  - [üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –õ–ò–¶–ï–ù–ó–ò–Ø –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–ê –ü–ï–†–ï–î –£–°–¢–ê–ù–û–í–ö–û–ô](#-–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏-–≤–∞–∂–Ω–æ-–ª–∏—Ü–µ–Ω–∑–∏—è-–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞-–ø–µ—Ä–µ–¥-—É—Å—Ç–∞–Ω–æ–≤–∫–æ–π)
- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏](#-)
  - [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ 1-–º —Å–µ—Ä–≤–µ—Ä–µ](#-1-)
  - [–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–æ–≤](#-deps)
- [–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å –ø–æ–º–æ—â—å—é —Å–∫—Ä–∏–ø—Ç–∞](#--1)
  - [–®–∞–≥–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Å–∫—Ä–∏–ø—Ç–∞](#--2)
- [–†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞](#--3)
  - [–ü–æ—Ä—è–¥–æ–∫ —É—Å—Ç–∞–Ω–æ–≤–∫–∏](#--4)
  - [1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è](#-clone-repo)
  - [2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (Docker, Docker Compose)](#-docker-docker-compose)
  - [3. –°–æ–∑–¥–∞–Ω–∏–µ Docker —Å–µ—Ç–∏](#-docker-compose-)
  - [4. Docker login –≤ Yandex CR](#-unicnet-1)
  - [5. –ó–∞–ø—É—Å–∫ Docker Compose](#-compose-)
    - [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö-–æ–∫—Ä—É–∂–µ–Ω–∏—è)
    - [–ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤](#–∑–∞–ø—É—Å–∫-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤)
  - [6. –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –ë–î –≤ MongoDB](#--5)
    - [1. –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è UnicNet](#1-—Å–æ–∑–¥–∞–Ω–∏–µ-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è-–¥–ª—è-unicnet)
    - [2. –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è Logger](#2-—Å–æ–∑–¥–∞–Ω–∏–µ-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è-–¥–ª—è-logger)
    - [3. –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è Vault](#3-—Å–æ–∑–¥–∞–Ω–∏–µ-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è-–¥–ª—è-vault)
  - [7. –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ Vault](#-vault-token)
  - [8. –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–∞ –≤ Vault](#-vault-secret)
  - [9. –û–∂–∏–¥–∞–Ω–∏–µ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ Keycloak](#-keycloak-wait)
  - [10. –ò–º–ø–æ—Ä—Ç realm](#-keycloak-realm)
  - [11. –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ 3 –≥—Ä—É–ø–ø](#-keycloak-user)
    - [–°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è](#—Å–æ–∑–¥–∞–Ω–∏–µ-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
    - [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞—Ä–æ–ª—è](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–ø–∞—Ä–æ–ª—è)
    - [–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –≥—Ä—É–ø–ø—ã](#–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è-–≤-–≥—Ä—É–ø–ø—ã)
  - [12. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ Docker Compose](#-restart-compose)
  - [–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã](#-unicnet-2)
    - [–í—Ö–æ–¥ –≤ UnicNet](#–≤—Ö–æ–¥-–≤-unicnet)
    - [–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Swagger, KeyCloak](#–ø—Ä–æ–≤–µ—Ä–∫–∞-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è-–∫-swagger-keycloak)
    - [–°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π –¥–ª—è SSH, TELNET, SNMP](#—Å–æ–∑–¥–∞–Ω–∏–µ-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π-–¥–ª—è-ssh-telnet-snmp)
- [F.A.Q](#faq)



<!-- TOC --><a name="-unicnet"></a>
## –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ Unicnet 

<div style="background-color: #ff0000; border: 4px solid #cc0000; padding: 20px; margin: 30px 0; border-radius: 8px; color: #ffffff; font-weight: bold;">

### üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –õ–ò–¶–ï–ù–ó–ò–Ø –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–ê –ü–ï–†–ï–î –£–°–¢–ê–ù–û–í–ö–û–ô

**‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï! –ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —É—Å—Ç–∞–Ω–æ–≤–∫–∏ UnicNet Enterprise –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ:**

1. **üìã –ó–∞–ø—Ä–æ—Å–∏—Ç—å –ª–∏—Ü–µ–Ω–∑–∏—é** —É –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ –∏–ª–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ —Å–∏—Å—Ç–µ–º—ã
2. **‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ª–∏—Ü–µ–Ω–∑–∏—é** –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `UniCommLicenseData` –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º Docker Compose
3. **‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å**, —á—Ç–æ –ª–∏—Ü–µ–Ω–∑–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–µ—Ä–µ–¥–∞–Ω–∞ –≤–æ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã

**‚ùå –ë–ï–ó –î–ï–ô–°–¢–í–£–Æ–©–ï–ô –õ–ò–¶–ï–ù–ó–ò–ò –°–ò–°–¢–ï–ú–ê –ù–ï –ë–£–î–ï–¢ –†–ê–ë–û–¢–ê–¢–¨ –ö–û–†–†–ï–ö–¢–ù–û!**

**–ö–∞–∫ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ª–∏—Ü–µ–Ω–∑–∏—é:**

```bash
# –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è —Å –ª–∏—Ü–µ–Ω–∑–∏–µ–π
export UniCommLicenseData="–≤–∞—à–∞_–ª–∏—Ü–µ–Ω–∑–∏—è_–∑–¥–µ—Å—å"

# –ò–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ —Ñ–∞–π–ª export_variables.txt:
# export UniCommLicenseData="–≤–∞—à–∞_–ª–∏—Ü–µ–Ω–∑–∏—è_–∑–¥–µ—Å—å"
```

> **‚ö†Ô∏è –í–ê–ñ–ù–û**: –õ–∏—Ü–µ–Ω–∑–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤—Å–µ–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏ (Backend, Frontend, Logger, Syslog, Vault, Router). –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `UniCommLicenseData` —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∞ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º `docker-compose up`.

</div>

<!-- TOC --><a name="-"></a>
## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

<!-- TOC --><a name="-1-"></a>
### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ 1-–º —Å–µ—Ä–≤–µ—Ä–µ

![](./unicnet_assets/unicnet_arch.png "–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞ 1-–º —Å–µ—Ä–≤–µ—Ä–µ")

<!-- TOC --><a name="-deps"></a>
### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–æ–≤

–ù–∏–∂–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∞ –¥–∏–∞–≥—Ä–∞–º–º–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏ UnicNet Enterprise. –°—Ç—Ä–µ–ª–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç, –∫–∞–∫–∏–µ —Å–µ—Ä–≤–∏—Å—ã –∑–∞–≤–∏—Å—è—Ç –æ—Ç –¥—Ä—É–≥–∏—Ö.

```mermaid
graph TD
    PG[unicnetpostgres<br/>PostgreSQL]
    MG[unicnetmongo<br/>MongoDB]
    
    KC[unicnetkeycloak<br/>Keycloak]
    LG[unicnetlogger<br/>Logger]
    SL[unicnetsyslog<br/>Syslog]
    
    VT[unicnetvault<br/>Vault]
    RT[unicnetrouter<br/>Router]
    
    BE[unicnetbackend<br/>Backend]
    FE[unicnetfrontend<br/>Frontend]
    
    PG --> KC
    MG --> SL
    MG --> VT
    VT --> SL
    VT --> BE
    RT --> BE
    SL --> BE
    BE --> FE
    KC --> FE
    VT --> LG
    SL --> LG
    BE --> LG
    FE --> LG
    
    style PG fill:#1e88e5,stroke:#0d47a1,stroke-width:3px,color:#ffffff
    style MG fill:#43a047,stroke:#1b5e20,stroke-width:3px,color:#ffffff
    style KC fill:#fb8c00,stroke:#e65100,stroke-width:3px,color:#ffffff
    style LG fill:#616161,stroke:#212121,stroke-width:3px,color:#ffffff
    style SL fill:#616161,stroke:#212121,stroke-width:3px,color:#ffffff
    style VT fill:#7b1fa2,stroke:#4a148c,stroke-width:3px,color:#ffffff
    style RT fill:#00897b,stroke:#004d40,stroke-width:3px,color:#ffffff
    style BE fill:#e53935,stroke:#b71c1c,stroke-width:3px,color:#ffffff
    style FE fill:#d81b60,stroke:#880e4f,stroke-width:3px,color:#ffffff
```

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –î–∏–∞–≥—Ä–∞–º–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∏–∑ `docker-compose.yml` —Å –ø–æ–º–æ—â—å—é —Å–∫—Ä–∏–ø—Ç–∞ `diagrams/generate_diagram.sh`. –î–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∏–∞–≥—Ä–∞–º–º—ã –≤—ã–ø–æ–ª–Ω–∏—Ç–µ: `cd diagrams && ./generate_diagram.sh`

**–£—Ä–æ–≤–Ω–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:**

- **–£—Ä–æ–≤–µ–Ω—å 0 (–ë–∞–∑–æ–≤—ã–µ —Å–µ—Ä–≤–∏—Å—ã):** `unicnetpostgres`, `unicnetmongo`
- **–£—Ä–æ–≤–µ–Ω—å 1:** `unicnetkeycloak` ‚Üí postgres
- **–£—Ä–æ–≤–µ–Ω—å 2:** `unicnetvault` ‚Üí mongo; `unicnetrouter` ‚Üí (–Ω–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)
- **–£—Ä–æ–≤–µ–Ω—å 3:** `unicnetsyslog` ‚Üí mongo, vault
- **–£—Ä–æ–≤–µ–Ω—å 4:** `unicnetbackend` ‚Üí vault, router, syslog
- **–£—Ä–æ–≤–µ–Ω—å 5:** `unicnetfrontend` ‚Üí backend, keycloak
- **–£—Ä–æ–≤–µ–Ω—å 6:** `unicnetlogger` ‚Üí mongo, vault, syslog, backend, frontend

**–ü–æ—Ä—è–¥–æ–∫ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤:**

1. `unicnetpostgres` (PostgreSQL)
2. `unicnetmongo` (MongoDB)
3. `unicnetkeycloak` (–ø–æ—Å–ª–µ postgres)
4. `unicnetvault` (–ø–æ—Å–ª–µ mongo)
5. `unicnetsyslog` (–ø–æ—Å–ª–µ mongo –∏ vault)
6. `unicnetrouter` (–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–π —Å–µ—Ä–≤–∏—Å)
7. `unicnetbackend` (–ø–æ—Å–ª–µ vault, router –∏ syslog)
8. `unicnetfrontend` (–ø–æ—Å–ª–µ backend –∏ keycloak)
9. `unicnetlogger` (–ø–æ—Å–ª–µ mongo, vault, syslog, backend –∏ frontend)

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: Docker Compose –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—á–∏—Ç—ã–≤–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ `depends_on` –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–µ—Ä–≤–∏—Å—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ.

<!-- TOC --><a name="--1"></a>
## –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å –ø–æ–º–æ—â—å—é —Å–∫—Ä–∏–ø—Ç–∞

–î–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ UnicNet Enterprise (–≤–µ—Ä—Å–∏—è 11.1) –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Å–∫—Ä–∏–ø—Ç `install.sh`. 
–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ—Ç –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —à–∞–≥–æ–≤, –æ–ø–∏—Å–∞–Ω–Ω—ã—Ö –≤ —Ä–∞–∑–¥–µ–ª–µ —Ä—É—á–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏, –≤–∫–ª—é—á–∞—è –ø—Ä–æ–≤–µ—Ä–∫—É –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è, –Ω–∞—Å—Ç—Ä–æ–π–∫—É –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è, –∑–∞–ø—É—Å–∫ Docker Compose, –∏–º–ø–æ—Ä—Ç realm –≤ Keycloak, —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –≥—Ä—É–ø–ø. –°–∫—Ä–∏–ø—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç uninstall/reinstall –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø–∞—Ä–æ–ª–∏.

**‚ö†Ô∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º —Å–∫—Ä–∏–ø—Ç–∞:**

- **Docker** –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –∑–∞–ø—É—â–µ–Ω
- **Docker Compose** (v2: `docker compose` –∏–ª–∏ v1: `docker-compose`) –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç –Ω–∞–ª–∏—á–∏–µ —ç—Ç–∏—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ. –ï—Å–ª–∏ –æ–Ω–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏—Ö –≤—Ä—É—á–Ω—É—é:
- Docker: https://docs.docker.com/engine/install/
- Docker Compose: –æ–±—ã—á–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å Docker, –∏–ª–∏ –æ—Ç–¥–µ–ª—å–Ω–æ: https://docs.docker.com/compose/install/

<!-- TOC --><a name="--2"></a>
### –®–∞–≥–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Å–∫—Ä–∏–ø—Ç–∞:

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**: –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è `unicnet.enterprise`:

   ```bash
   git clone https://github.com/rightsoftware-ru/unicnet.enterprise.git
   cd unicnet.enterprise
   ```

2. **–°–¥–µ–ª–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º**:

   ```bash
   chmod +x install.sh
   ```

3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è**:

   > **üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û**: –ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º —Å–∫—Ä–∏–ø—Ç–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û** –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ª–∏—Ü–µ–Ω–∑–∏—é –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `UniCommLicenseData`. –ë–µ–∑ –¥–µ–π—Å—Ç–≤—É—é—â–µ–π –ª–∏—Ü–µ–Ω–∑–∏–∏ —Å–∏—Å—Ç–µ–º–∞ –Ω–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ!

   –ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º —Å–∫—Ä–∏–ø—Ç–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–∑ —Ñ–∞–π–ª–∞ `export_variables.txt`:

   1. **–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `export_variables.txt`** –≤ –∫–æ—Ä–Ω–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:

      ```bash
      nano export_variables.txt
      ```

      > **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –í—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—é–±–æ–π –¥—Ä—É–≥–æ–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä –≤–º–µ—Å—Ç–æ `nano` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `vi`, `vim`, `gedit`, `code` –∏ —Ç.–¥.).

      > **‚ö†Ô∏è –í–ê–ñ–ù–û**: –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏–∑–º–µ–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–¥ –≤–∞—à—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é, –æ—Å–æ–±–µ–Ω–Ω–æ **–ø–∞—Ä–æ–ª–∏**:
      > - `POSTGRES_PASSWORD` - –ø–∞—Ä–æ–ª—å –¥–ª—è PostgreSQL
      > - `MONGO_INITDB_ROOT_PASSWORD` - –ø–∞—Ä–æ–ª—å root –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è MongoDB
      > - `MONGO_UNICNET_PASSWORD` - –ø–∞—Ä–æ–ª—å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è UnicNet –≤ MongoDB
      > - `MONGO_LOGGER_PASSWORD` - –ø–∞—Ä–æ–ª—å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Logger –≤ MongoDB
      > - `MONGO_VAULT_PASSWORD` - –ø–∞—Ä–æ–ª—å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Vault –≤ MongoDB
      > - `KEYCLOAK_ADMIN_PASSWORD` - –ø–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ Keycloak
      > - `UniCommLicenseData` - **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û** –∑–∞–º–µ–Ω–∏—Ç–µ `default_license_data` –Ω–∞ –≤–∞—à—É —Ä–µ–∞–ª—å–Ω—É—é –ª–∏—Ü–µ–Ω–∑–∏—é
      > - `RouterCidr` - **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û** –∑–∞–º–µ–Ω–∏—Ç–µ  –Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π CIDR

   2. **–ü—Ä–∏–º–µ–Ω–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è** –∏–∑ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞:

      ```bash
      source export_variables.txt
      ```

      –ò–ª–∏:

      ```bash
      . export_variables.txt
      ```

   3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã**, –æ—Å–æ–±–µ–Ω–Ω–æ –ª–∏—Ü–µ–Ω–∑–∏—è:

      ```bash
      echo $UniCommLicenseData
      ```

      > **‚ö†Ô∏è –í–ê–ñ–ù–û**: –õ–∏—Ü–µ–Ω–∑–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤—Å–µ–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏ (Backend, Frontend, Logger, Syslog, Vault, Router). –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `UniCommLicenseData` —Å–æ–¥–µ—Ä–∂–∏—Ç –≤–∞—à—É —Ä–µ–∞–ª—å–Ω—É—é –ª–∏—Ü–µ–Ω–∑–∏—é, –∞ –Ω–µ `default_license_data`, –∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∞ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º —Å–∫—Ä–∏–ø—Ç–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏.

4. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç**:

   ```bash
   ./install.sh
   ```
   - –°–∫—Ä–∏–ø—Ç —Å–æ–±–µ—Ä—ë—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (IP —Å–µ—Ä–≤–µ—Ä–∞, –ø–∞—Ä–æ–ª–∏ –∏ —Ç.–¥.) –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ –∏–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞, –µ—Å–ª–∏ –æ–Ω —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.
   - –í—ã–±–µ—Ä–∏—Ç–µ –æ–ø—Ü–∏—é "0" –¥–ª—è –ø–æ–ª–Ω–æ–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏–ª–∏ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —à–∞–≥–∏ –¥–ª—è —Ä—É—á–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è.
5. **–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏—Ç–æ–≥–æ–≤—ã–π –≤—ã–≤–æ–¥ —Å–∫—Ä–∏–ø—Ç–∞ —Å URL –∏ —É—á—ë—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏. –ï—Å–ª–∏ –Ω—É–∂–Ω–æ, –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ —Å —Ä—É—á–Ω—ã–º–∏ —à–∞–≥–∞–º–∏ –∏–∑ —Ä–∞–∑–¥–µ–ª–∞ "–†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞" (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π –≤ UnicNet).

**–ü—Ä–∏–º–µ—á–∞–Ω–∏—è**:
- –ï—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è –æ—à–∏–±–∫–æ–π, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –∏ –≤–µ—Ä–Ω–∏—Ç–µ—Å—å –∫ —Ä—É—á–Ω—ã–º —à–∞–≥–∞–º –Ω–∏–∂–µ.
- –ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –∑–∞–ø—É—Å–∫–µ —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–∞–π–ª–∞ unicnet_installer.conf, —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ.
- **–í–∞–∂–Ω–æ**: –ï—Å–ª–∏ –∫–∞–∫–æ–π-–ª–∏–±–æ —à–∞–≥ –∑–∞–≤–µ—Ä—à–∏–ª—Å—è —Å –æ—à–∏–±–∫–æ–π (–æ—Å–æ–±–µ–Ω–Ω–æ HTTP 401 –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å —Ç–æ–∫–µ–Ω–∞–º–∏), –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å –µ–≥–æ –ø–æ–≤—Ç–æ—Ä–Ω–æ. –ò–Ω–æ–≥–¥–∞ —Å–µ—Ä–≤–∏—Å—ã (Keycloak, Vault) –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤—ã –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—Ä–æ—Å–µ, –∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—É—Å–∫ –æ–±—ã—á–Ω–æ —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É.

<!-- TOC --><a name="--3"></a>
## –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

<!-- TOC --><a name="--4"></a>
### –ü–æ—Ä—è–¥–æ–∫ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

–ü–æ—Ä—è–¥–æ–∫ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —à–∞–≥–∞–º –∏–∑ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞ `install.sh`:

1. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**
2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** (Docker, Docker Compose)
3. **–°–æ–∑–¥–∞—Ç—å —Å–µ—Ç—å Docker**
4. **Docker login –≤ Yandex CR** 
5. **–ó–∞–ø—É—Å—Ç–∏—Ç—å Docker Compose**
6. **–°–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –ë–î –≤ MongoDB**
7. **–ü–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω Vault**
8. **–°–æ–∑–¥–∞—Ç—å —Å–µ–∫—Ä–µ—Ç –≤ Vault**
9. **–î–æ–∂–¥–∞—Ç—å—Å—è –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ Keycloak**
10. **–ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å realm**
11. **–°–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ 3 –≥—Ä—É–ø–ø**
12. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Docker Compose** (down –∏ up -d)

<!-- TOC --><a name="-clone-repo"></a>
### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π `unicnet.enterprise`:

```bash
git clone https://github.com/rightsoftware-ru/unicnet.enterprise.git
cd unicnet.enterprise
```

<!-- TOC --><a name="-docker-docker-compose"></a>
### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (Docker, Docker Compose)

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –∑–∞ —Ä–∞–º–∫–∞–º–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Docker —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Å–∞–π—Ç–∞ https://docs.docker.com/engine/install/

Docker Compose –æ–±—ã—á–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å Docker, –∏–ª–∏ –æ—Ç–¥–µ–ª—å–Ω–æ: https://docs.docker.com/compose/install/

<!-- TOC --><a name="-docker-compose-"></a>
### 3. –°–æ–∑–¥–∞–Ω–∏–µ Docker —Å–µ—Ç–∏

–°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ç—å –∫–æ–º–∞–Ω–¥–æ–π:

```bash
docker network create unicnet_network
```

<!-- TOC --><a name="-unicnet-1"></a>
### 4. Docker login –≤ Yandex CR

–û–±—Ä–∞–∑—ã UnicNet Enterprise –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ Yandex Container Registry –∫–æ–º–ø–∞–Ω–∏–∏ ¬´–ü–†–ê–í–ò–õ–¨–ù–´–ô –°–û–§–¢¬ª. 

–î–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Ä–µ–µ—Å—Ç—Ä—É –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:

```bash
echo y0_AgAAAAB3muX6AATuwQAAAAEawLLRAAB9TQHeGyxGPZXkjVDHF1ZNJcV8UQ | docker login \
--username oauth \
--password-stdin \
cr.yandex
```

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –¢–æ–∫–µ–Ω –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑–º–µ–Ω–µ–Ω. –ï—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –∑–∞–ø—Ä–æ—Å–∏—Ç–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω —É –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.

**–ê–∫—Ç—É–∞–ª—å–Ω—ã–µ –æ–±—Ä–∞–∑—ã:**
- PostgreSQL: `cr.yandex/crp39psc34hg49unp6p7/postgres:alpine3.15`
- MongoDB: `cr.yandex/crp39psc34hg49unp6p7/mongo:4.4`
- Keycloak: `cr.yandex/crp39psc34hg49unp6p7/keycloak:22.0.5`
- Backend: `cr.yandex/crpi5ll6mqcn793fvu9i/unic/unicnetbackend:prod`
- Frontend: `cr.yandex/crpi5ll6mqcn793fvu9i/unicnet.solid/prod:front251222`
- Logger: `cr.yandex/crpi5ll6mqcn793fvu9i/unic/uniclogger:prod`
- Vault: `cr.yandex/crpi5ll6mqcn793fvu9i/unic/unicvault:prod`
- Syslog: `cr.yandex/crpi5ll6mqcn793fvu9i/unic/unicnetsyslog:prod`
- Router: `cr.yandex/crpi5ll6mqcn793fvu9i/unic/unicnetrouter:prod`

<!-- TOC --><a name="-compose-"></a>
### 5. –ó–∞–ø—É—Å–∫ Docker Compose

> **üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û**: –ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º Docker Compose **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û** –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ª–∏—Ü–µ–Ω–∑–∏—é –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `UniCommLicenseData`. –ë–µ–∑ –¥–µ–π—Å—Ç–≤—É—é—â–µ–π –ª–∏—Ü–µ–Ω–∑–∏–∏ —Å–∏—Å—Ç–µ–º–∞ –Ω–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ!

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º Docker Compose –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–∑ —Ñ–∞–π–ª–∞ `export_variables.txt`:

1. **–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `export_variables.txt`** –≤ –∫–æ—Ä–Ω–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:

   ```bash
   nano export_variables.txt
   ```

   > **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –í—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—é–±–æ–π –¥—Ä—É–≥–æ–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä –≤–º–µ—Å—Ç–æ `nano` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `vi`, `vim`, `gedit`, `code` –∏ —Ç.–¥.).

   > **‚ö†Ô∏è –í–ê–ñ–ù–û**: –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏–∑–º–µ–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–¥ –≤–∞—à—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é, –æ—Å–æ–±–µ–Ω–Ω–æ **–ø–∞—Ä–æ–ª–∏**:
   > - `POSTGRES_PASSWORD` - –ø–∞—Ä–æ–ª—å –¥–ª—è PostgreSQL
   > - `MONGO_INITDB_ROOT_PASSWORD` - –ø–∞—Ä–æ–ª—å root –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è MongoDB
   > - `MONGO_UNICNET_PASSWORD` - –ø–∞—Ä–æ–ª—å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è UnicNet –≤ MongoDB
   > - `MONGO_LOGGER_PASSWORD` - –ø–∞—Ä–æ–ª—å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Logger –≤ MongoDB
   > - `MONGO_VAULT_PASSWORD` - –ø–∞—Ä–æ–ª—å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Vault –≤ MongoDB
   > - `KEYCLOAK_ADMIN_PASSWORD` - –ø–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ Keycloak
   > - `UniCommLicenseData` - **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û** –∑–∞–º–µ–Ω–∏—Ç–µ `default_license_data` –Ω–∞ –≤–∞—à—É —Ä–µ–∞–ª—å–Ω—É—é –ª–∏—Ü–µ–Ω–∑–∏—é
   > - `RouterCidr` - **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û** –∑–∞–º–µ–Ω–∏—Ç–µ  –Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π CIDR

2. **–ü—Ä–∏–º–µ–Ω–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è** –∏–∑ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞:

   ```bash
   source export_variables.txt
   ```

   –ò–ª–∏:

   ```bash
   . export_variables.txt
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã**, –æ—Å–æ–±–µ–Ω–Ω–æ –ª–∏—Ü–µ–Ω–∑–∏—è:

   ```bash
   echo $UniCommLicenseData
   ```

   > **‚ö†Ô∏è –í–ê–ñ–ù–û**: –õ–∏—Ü–µ–Ω–∑–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤—Å–µ–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏ (Backend, Frontend, Logger, Syslog, Vault, Router). –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `UniCommLicenseData` —Å–æ–¥–µ—Ä–∂–∏—Ç –≤–∞—à—É —Ä–µ–∞–ª—å–Ω—É—é –ª–∏—Ü–µ–Ω–∑–∏—é, –∞ –Ω–µ `default_license_data`, –∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∞ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º `docker-compose up`.

#### –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `./app` –∏ –Ω–∞–π–¥–∏—Ç–µ —Ñ–∞–π–ª—ã:

- `docker-compose.yml` - Docker Compose —Ñ–∞–π–ª —Å–æ –≤—Å–µ–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏
- `keycloak-import/unicnet-realm.json` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è realm –¥–ª—è Keycloak (—É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –∞–¥—Ä–µ—Å–æ–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤)

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–µ—Ä—Å–∏–∏ Docker Compose –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
> - `docker compose` (Docker Compose V2, –≤—Å—Ç—Ä–æ–µ–Ω –≤ Docker)
> - `docker-compose` (Docker Compose V1, –æ—Ç–¥–µ–ª—å–Ω–∞—è —É—Ç–∏–ª–∏—Ç–∞)

–°–∫–∞—á–∞–π—Ç–µ –æ–±—Ä–∞–∑—ã –∫–æ–º–∞–Ω–¥–æ–π:

**–î–ª—è Docker Compose V2:**
```bash
cd app
docker compose -f docker-compose.yml pull
```

**–î–ª—è Docker Compose V1:**
```bash
cd app
docker-compose -f docker-compose.yml pull
```

–°–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∫–æ–º–∞–Ω–¥–æ–π:

**–î–ª—è Docker Compose V2:**
```bash
docker compose -f docker-compose.yml up -d
```

**–î–ª—è Docker Compose V1:**
```bash
docker-compose -f docker-compose.yml up -d
```

<!-- TOC --><a name="--5"></a>
### 6. –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –ë–î –≤ MongoDB

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å **—Ç—Ä–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≤ MongoDB. –≠—Ç–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫—Ä–∏–ø—Ç–æ–º `install.sh`, –Ω–æ –ø—Ä–∏ —Ä—É—á–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–µ –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —á–µ—Ä–µ–∑ MongoDB –∫–æ–º–∞–Ω–¥—ã.

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–∑ —Ñ–∞–π–ª–∞ `export_variables.txt`, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –ø—Ä–∏–º–µ–Ω–∏–ª–∏ –Ω–∞ —à–∞–≥–µ 5. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –∫–æ–º–∞–Ω–¥.

–°–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –∏—Å–ø–æ–ª—å–∑—É—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è. –í—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã:

#### 1. –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è UnicNet

```bash
docker exec -it unicnetmongo mongo admin -u ${MONGO_INITDB_ROOT_USERNAME} -p ${MONGO_INITDB_ROOT_PASSWORD} --eval "
db = db.getSiblingDB('${MONGO_UNICNET_DB}');
db.createUser({
  user: '${MONGO_UNICNET_USER}',
  pwd: '${MONGO_UNICNET_PASSWORD}',
  roles: [{ role: 'readWrite', db: '${MONGO_UNICNET_DB}' }]
});
"
```

#### 2. –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è Logger

```bash
docker exec -it unicnetmongo mongo admin -u ${MONGO_INITDB_ROOT_USERNAME} -p ${MONGO_INITDB_ROOT_PASSWORD} --eval "
db = db.getSiblingDB('${MONGO_LOGGER_DB}');
db.createUser({
  user: '${MONGO_LOGGER_USER}',
  pwd: '${MONGO_LOGGER_PASSWORD}',
  roles: [{ role: 'readWrite', db: '${MONGO_LOGGER_DB}' }]
});
"
```

#### 3. –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è Vault

```bash
docker exec -it unicnetmongo mongo admin -u ${MONGO_INITDB_ROOT_USERNAME} -p ${MONGO_INITDB_ROOT_PASSWORD} --eval "
db = db.getSiblingDB('${MONGO_VAULT_DB}');
db.createUser({
  user: '${MONGO_VAULT_USER}',
  pwd: '${MONGO_VAULT_PASSWORD}',
  roles: [{ role: 'readWrite', db: '${MONGO_VAULT_DB}' }]
});
"
```

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç, MongoDB –≤–µ—Ä–Ω–µ—Ç –æ—à–∏–±–∫—É. –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —É–∂–µ —Å–æ–∑–¥–∞–Ω—ã. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `db.updateUser()` –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–∞—Ä–æ–ª–µ–π.

<!-- TOC --><a name="-vault-token"></a>
### 7. –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ Vault

–î–ª—è —Ä–∞–±–æ—Ç—ã —Å Vault API –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –∫ API Vault:

```bash
curl -s "http://localhost:8200/api/token/0f8e160416b94225a73f86ac23b9118b?username=UNFrontV2"
```

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ —Å–ª–µ–¥—É—é—â–µ–º —à–∞–≥–µ.

<!-- TOC --><a name="-vault-secret"></a>
### 8. –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–∞ –≤ Vault

–°–æ–∑–¥–∞–π—Ç–µ —Å–µ–∫—Ä–µ—Ç –≤ Vault —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–∫–µ–Ω, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–º —à–∞–≥–µ:

–ü–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –∫–æ–º–∞–Ω–¥—ã —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```bash
echo "KeyCloak.AdmUn: ${KEYCLOAK_ADMIN_USER}"
echo "KeyCloak.AdmPw: ${KEYCLOAK_ADMIN_PASSWORD}"
```

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –ó–Ω–∞—á–µ–Ω–∏—è –¥–ª—è Keycloak –±–µ—Ä—É—Ç—Å—è –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –ø—Ä–∏–º–µ–Ω–∏–ª–∏ –Ω–∞ —à–∞–≥–µ 5:
> - `KeyCloak.AdmUn` - —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `${KEYCLOAK_ADMIN_USER}` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `unicnet`)
> - `KeyCloak.AdmPw` - —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `${KEYCLOAK_ADMIN_PASSWORD}` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `admin123`)
> - `KeyCloak.Realm` - –∏–º—è realm –∏–∑ —Ñ–∞–π–ª–∞ `app/keycloak-import/unicnet-realm.json` (–æ–±—ã—á–Ω–æ: `unicnet`)

–°–æ–∑–¥–∞–π—Ç–µ —Å–µ–∫—Ä–µ—Ç –≤ Vault, –∑–∞–º–µ–Ω–∏–≤ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –∫–æ–º–∞–Ω–¥–µ:

```bash
curl -X POST "http://localhost:8200/api/Secrets" \
  -H "Authorization: Bearer –≤–∞—à_—Ç–æ–∫–µ–Ω" \
  -H "Content-Type: application/json" \
  -d '{
    "id": "UNFrontV2",
    "name": "UNFrontV2",
    "type": "Password",
    "data": "Empty",
    "metadata": {
      "api.keycloak.url": "http://unicnetkeycloak:8080/",
      "api.license.url": "http://unicnet.license",
      "api.backend.url": "http://unicnetbackend:8080/",
      "api.logger.url": "http://unicnetlogger:8080/",
      "api.syslog.url": "http://unicnetsyslog:8080/",
      "KeyCloak.AdmUn": "—Å–∫–æ–ø–∏—Ä—É–π—Ç–µ_–∑–Ω–∞—á–µ–Ω–∏–µ_–∏–∑_KEYCLOAK_ADMIN_USER",
      "KeyCloak.AdmPw": "—Å–∫–æ–ø–∏—Ä—É–π—Ç–µ_–∑–Ω–∞—á–µ–Ω–∏–µ_–∏–∑_KEYCLOAK_ADMIN_PASSWORD",
      "KeyCloak.Realm": "unicnet",
      "RouterHotSpot": "unicnetrouter:30115"
    },
    "tags": [],
    "expiresAt": "2050-12-31T23:59:59.999Z"
  }'
```

> **–í–∞–∂–Ω–æ**: 
> - –ó–∞–º–µ–Ω–∏—Ç–µ `–≤–∞—à_—Ç–æ–∫–µ–Ω` –Ω–∞ —Ç–æ–∫–µ–Ω, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –Ω–∞ —à–∞–≥–µ 7
> - –ó–∞–º–µ–Ω–∏—Ç–µ `—Å–∫–æ–ø–∏—Ä—É–π—Ç–µ_–∑–Ω–∞—á–µ–Ω–∏–µ_–∏–∑_KEYCLOAK_ADMIN_USER` –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `${KEYCLOAK_ADMIN_USER}`
> - –ó–∞–º–µ–Ω–∏—Ç–µ `—Å–∫–æ–ø–∏—Ä—É–π—Ç–µ_–∑–Ω–∞—á–µ–Ω–∏–µ_–∏–∑_KEYCLOAK_ADMIN_PASSWORD` –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `${KEYCLOAK_ADMIN_PASSWORD}`
> - –ó–Ω–∞—á–µ–Ω–∏–µ `KeyCloak.Realm` –¥–æ–ª–∂–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –∏–º–µ–Ω–∏ realm –∏–∑ —Ñ–∞–π–ª–∞ `app/keycloak-import/unicnet-realm.json` (–æ–±—ã—á–Ω–æ `unicnet`)

<!-- TOC --><a name="-keycloak-wait"></a>
### 9. –û–∂–∏–¥–∞–Ω–∏–µ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ Keycloak

–î–æ–∂–¥–∏—Ç–µ—Å—å –ø–æ–ª–Ω–æ–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ Keycloak –ø–µ—Ä–µ–¥ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ–º. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å:

```bash
curl http://localhost:8095/health/ready
```

–ò–ª–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å: `http://<SERVER_IP>:8095`

<!-- TOC --><a name="-keycloak-realm"></a>
### 10. –ò–º–ø–æ—Ä—Ç realm

–ò–º–ø–æ—Ä—Ç realm –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Keycloak:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ –∞–¥—Ä–µ—Å—É `http://<SERVER_IP>:8095`
2. –í–æ–π–¥–∏—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ Keycloak —Å —É—á–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏:
   - Username: `unicnet` (–∏–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ `KEYCLOAK_ADMIN_USER`)
   - Password: `admin123` (–∏–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ `KEYCLOAK_ADMIN_PASSWORD`)

   –ò–ª–∏ –ø—Ä–æ—á–∏—Ç–∞–π—Ç–µ credentials –∏–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:
   ```bash
   docker inspect unicnetkeycloak | grep -E "KEYCLOAK_ADMIN_USER|KEYCLOAK_ADMIN_PASSWORD"
   ```

3. –í –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ Keycloak:
   - **–ù–∞–≤–µ–¥–∏—Ç–µ –∫—É—Ä—Å–æ—Ä –Ω–∞ –≤—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ "Master"** (–≤ –ª–µ–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É —Å–∞–π–¥–±–∞—Ä–∞, —Ä—è–¥–æ–º —Å –ª–æ–≥–æ—Ç–∏–ø–æ–º Keycloak)
   - –í –ø–æ—è–≤–∏–≤—à–µ–º—Å—è –º–µ–Ω—é –Ω–∞–∂–º–∏—Ç–µ **"Create Realm"**
 ![](./unicnet_assets/keycloak_master_dropdown.png "–í—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ Master –≤ Keycloak")
   - –ù–∞–∂–º–∏—Ç–µ **"Select file"** –∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª `app/keycloak-import/unicnet-realm.json`
   - –ù–∞–∂–º–∏—Ç–µ **"Create"**

![](./unicnet_assets/create_realm.png "–°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ–∑–¥–∞–Ω–∏—è realm")

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –§–∞–π–ª `unicnet-realm.json` —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –∞–¥—Ä–µ—Å–æ–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ Docker. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ —Ç—Ä–µ–±—É—é—Ç—Å—è.

<!-- TOC --><a name="-keycloak-user"></a>
### 11. –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ 3 –≥—Ä—É–ø–ø

–°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –≥—Ä—É–ø–ø –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Keycloak:

#### –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

1. –í –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ Keycloak –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Å–æ–∑–¥–∞–Ω–Ω—ã–π realm (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `unicnet`)
2. –í –ª–µ–≤–æ–º –º–µ–Ω—é –≤—ã–±–µ—Ä–∏—Ç–µ "Users"
3. –ù–∞–∂–º–∏—Ç–µ "Add user"
4. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É:
   - **Username**: –Ω–∞–ø—Ä–∏–º–µ—Ä, `unicadmin`
   - **Email**: –Ω–∞–ø—Ä–∏–º–µ—Ä, `unicadmin@local.com`
   - –í–∫–ª—é—á–∏—Ç–µ –æ–ø—Ü–∏–∏ "Email verified" –∏ "Enabled"
5. –ù–∞–∂–º–∏—Ç–µ "Create"

![](./unicnet_assets/create_user.png "–°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è")

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞—Ä–æ–ª—è

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "Credentials" —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. –ù–∞–∂–º–∏—Ç–µ "Set password"
3. –í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –∏ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –µ–≥–æ
4. –û—Ç–∫–ª—é—á–∏—Ç–µ –æ–ø—Ü–∏—é "Temporary" (—á—Ç–æ–±—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –±—ã–ª –≤—ã–Ω—É–∂–¥–µ–Ω –º–µ–Ω—è—Ç—å –ø–∞—Ä–æ–ª—å –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—Ö–æ–¥–µ)
5. –ù–∞–∂–º–∏—Ç–µ "Save"

![](./unicnet_assets/set_pswd.png "–°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø–∞—Ä–æ–ª—è")

#### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –≥—Ä—É–ø–ø—ã

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "Groups" —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. –ù–∞–∂–º–∏—Ç–µ "Join Group"
3. –í—ã–±–µ—Ä–∏—Ç–µ –∏ –¥–æ–±–∞–≤—å—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Å–ª–µ–¥—É—é—â–∏–µ –≥—Ä—É–ø–ø—ã:
   - `unicnet_admin_group` - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å –ø—Ä–∞–≤–∞–º–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞. –ò–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω. –ø–∞–Ω–µ–ª–∏ Unicnet
   - `unicnet_superuser_group` - –°—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
   - `unicnet_user_group` - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

![](./unicnet_assets/groups.png "–ì—Ä—É–ø–ø—ã")

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –ì—Ä—É–ø–ø—ã —É–∂–µ —Å–æ–∑–¥–∞–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ `unicnet-realm.json`. –í–∞–º –Ω—É–∂–Ω–æ —Ç–æ–ª—å–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –≥—Ä—É–ø–ø—ã.

<!-- TOC --><a name="-restart-compose"></a>
### 12. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ Docker Compose

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π:

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–µ—Ä—Å–∏–∏ Docker Compose –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
> - `docker compose` (Docker Compose V2, –≤—Å—Ç—Ä–æ–µ–Ω –≤ Docker)
> - `docker-compose` (Docker Compose V1, –æ—Ç–¥–µ–ª—å–Ω–∞—è —É—Ç–∏–ª–∏—Ç–∞)

–û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ, –∫–∞–∫–∞—è –≤–µ—Ä—Å–∏—è —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞:

```bash
docker compose version
```

–ï—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ:

```bash
docker-compose version
```

–ü–æ—Å–ª–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤–µ—Ä—Å–∏–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫:

**–î–ª—è Docker Compose V2 (docker compose):**
```bash
cd app
docker compose -f docker-compose.yml down && docker compose -f docker-compose.yml up -d
```

**–î–ª—è Docker Compose V1 (docker-compose):**
```bash
cd app
docker-compose -f docker-compose.yml down && docker-compose -f docker-compose.yml up -d
```

–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞:
- –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∏ —É–¥–∞–ª—è–µ—Ç –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã (`down`)
- –ó–∞–ø—É—Å–∫–∞–µ—Ç –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–Ω–æ–≤–æ –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ (`up -d`)

–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –Ω–µ–æ–±—Ö–æ–¥–∏–º –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ MongoDB, —Å–µ–∫—Ä–µ—Ç—ã Vault, realm Keycloak).

<!-- TOC --><a name="-unicnet-2"></a>
### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É —Å–∏—Å—Ç–µ–º—ã:

#### –í—Ö–æ–¥ –≤ UnicNet

–ü–æ –∞–¥—Ä–µ—Å—É `http://<SERVER_IP>:8080` –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ UnicNet (–ø–æ—Ä—Ç 8080 –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è Frontend):

![](./unicnet_assets/unicnet_auth.png "–°—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ Unicnet")

![](./unicnet_assets/unicnet_main_page.png "–°—Ç—Ä–∞–Ω–∏—Ü–∞ –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é Unicnet")

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Swagger, KeyCloak

–ó–∞–π–¥–∏—Ç–µ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Swagger –∏ KeyCloak:

![](./unicnet_assets/un_admin_panel.png "–°—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ Unicnet")

![](./unicnet_assets/un_settings_main.png "–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏. –ì–ª–∞–≤–Ω–∞—è")

#### –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π –¥–ª—è SSH, TELNET, SNMP

–ü–æ–¥–∫–ª—é—á–µ–Ω–∏—è ‚Äî —ç—Ç–æ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –Ω–∞ —Å–µ—Ç–µ–≤—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–≥–æ —Å–±–æ—Ä–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–µ—Ç–µ–≤—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö –∏ —Ä–∞–±–æ—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∑–∞–¥–∞—á Runbook. –î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∑–∞–ø–æ–ª–Ω–∏—Ç–µ:

- –ù–∞–∑–≤–∞–Ω–∏–µ
- –õ–æ–≥–∏–Ω
- –ü–∞—Ä–æ–ª—å
- –°—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (–ø–∞—Ä–æ–ª—å —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–∏–ø–∞ SSH)

> ![](./unicnet_assets/un_settings_cred.png "–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏. Credentials")
>
> ![](./unicnet_assets/un_cred_new.png "–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏. –ù–æ–≤–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ")

<!-- TOC --><a name="faq"></a>
## F.A.Q

1. **–®–∞–≥ –∑–∞–≤–µ—Ä—à–∏–ª—Å—è —Å –æ—à–∏–±–∫–æ–π HTTP 401 –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º–æ–π —Å —Ç–æ–∫–µ–Ω–∞–º–∏**. –ï—Å–ª–∏ –∫–∞–∫–æ–π-–ª–∏–±–æ —à–∞–≥ (–æ—Å–æ–±–µ–Ω–Ω–æ —à–∞–≥–∏ 6, 7, 10, 11, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å Keycloak –∏–ª–∏ Vault) –∑–∞–≤–µ—Ä—à–∏–ª—Å—è —Å –æ—à–∏–±–∫–æ–π HTTP 401 –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º–æ–π –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å –µ–≥–æ –ø–æ–≤—Ç–æ—Ä–Ω–æ. –ò–Ω–æ–≥–¥–∞ —Å–µ—Ä–≤–∏—Å—ã (Keycloak, Vault) –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤—ã –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—Ä–æ—Å–µ –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –∏–ª–∏ –∏–º–ø–æ—Ä—Ç–∞ realm. –ü—Ä–æ—Å—Ç–æ –≤—ã–±–µ—Ä–∏—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –ø—É–Ω–∫—Ç –≤ –º–µ–Ω—é —Å–∫—Ä–∏–ø—Ç–∞ –µ—â–µ —Ä–∞–∑ - –æ–±—ã—á–Ω–æ –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—É—Å–∫ —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É.

2. **–ù–µ —Å–æ–∑–¥–∞–ª–∞—Å—å –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≤ PostgreSQL –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ**. –í—ã –º–æ–∂–µ—Ç–µ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ PostgreSQL –∏ —Å–æ–∑–¥–∞—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö:

   **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É PostgreSQL:**
   
   ```bash
   # –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É PostgreSQL
   docker exec -it unicnetpostgres /bin/bash
   ```
   
   –ò–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É –Ω–∞–ø—Ä—è–º—É—é –±–µ–∑ –≤—Ö–æ–¥–∞ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:
   
   ```bash
   # –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö PostgreSQL –Ω–∞–ø—Ä—è–º—É—é
   # –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ export_variables.txt
   docker exec -it unicnetpostgres psql -U ${POSTGRES_USER:-unicnet} -d postgres
   ```
   
   **–ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö:**
   
   ```bash
   # –ò–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (–µ—Å–ª–∏ –≤—ã —É–∂–µ –≤–Ω—É—Ç—Ä–∏)
   psql -U ${POSTGRES_USER:-unicnet} -d postgres -c "\l"
   
   # –ò–ª–∏ –Ω–∞–ø—Ä—è–º—É—é –∏–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞
   docker exec -it unicnetpostgres psql -U ${POSTGRES_USER:-unicnet} -d postgres -c "\l"
   ```
   
   –í –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–∂–∏–º–µ psql –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É:
   
   ```sql
   \l
   ```
   
   **–°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:**
   
   ```bash
   # –°–æ–∑–¥–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞
   docker exec -it unicnetpostgres psql -U ${POSTGRES_USER:-unicnet} -d postgres -c "CREATE DATABASE ${POSTGRES_DB:-unicnetdb};"
   ```
   
   –ò–ª–∏ –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–∂–∏–º–µ psql:
   
   ```sql
   CREATE DATABASE unicnetdb;
   ```
   
   **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:**
   
   ```bash
   # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
   docker exec -it unicnetpostgres psql -U ${POSTGRES_USER:-unicnet} -d postgres -c "\l" | grep ${POSTGRES_DB:-unicnetdb}
   ```
   
   **–ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã psql:**
   
   ```sql
   \l          -- –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö
   \c dbname  -- –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
   \dt        -- –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü –≤ —Ç–µ–∫—É—â–µ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
   \du        -- –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
   \q         -- –í—ã–π—Ç–∏ –∏–∑ psql
   ```
   
   > **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–∑ —Ñ–∞–π–ª–∞ `export_variables.txt`:
   > - `POSTGRES_USER` - –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `unicnet`)
   > - `POSTGRES_DB` - –∏–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `unicnetdb`)
   > - `POSTGRES_PASSWORD` - –ø–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

3. **–ö–∞–∫ —É–¥–∞–ª–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**. –î–ª—è —É–¥–∞–ª–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `unset`:

   ```bash
   # –£–¥–∞–ª–∏—Ç—å –æ–¥–Ω—É –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é
   unset POSTGRES_PASSWORD
   unset UniCommLicenseData
   
   # –£–¥–∞–ª–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
   unset POSTGRES_DB POSTGRES_USER POSTGRES_PASSWORD
   
   # –£–¥–∞–ª–∏—Ç—å –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ UnicNet –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π
   unset POSTGRES_DB POSTGRES_USER POSTGRES_PASSWORD \
         MONGO_INITDB_ROOT_USERNAME MONGO_INITDB_ROOT_PASSWORD MONGO_INITDB_DATABASE \
         MONGO_UNICNET_DB MONGO_UNICNET_USER MONGO_UNICNET_PASSWORD \
         MONGO_LOGGER_DB MONGO_LOGGER_USER MONGO_LOGGER_PASSWORD \
         MONGO_VAULT_DB MONGO_VAULT_USER MONGO_VAULT_PASSWORD \
         KEYCLOAK_ADMIN_USER KEYCLOAK_ADMIN_PASSWORD UniCommLicenseData
   
   # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —É–¥–∞–ª–µ–Ω–∞
   echo $POSTGRES_PASSWORD
   # (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—É—Å—Ç–æ)
   ```

   > **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —É–¥–∞–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∏–∑ —Ç–µ–∫—É—â–µ–π —Å–µ—Å—Å–∏–∏ shell. –ü–æ—Å–ª–µ –∑–∞–∫—Ä—ã—Ç–∏—è —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ –æ–Ω–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è—é—Ç—Å—è. –î–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è –Ω—É–∂–Ω–æ —Ç–∞–∫–∂–µ —É–¥–∞–ª–∏—Ç—å –∏—Ö –∏–∑ —Ñ–∞–π–ª–∞ `export_variables.txt` –∏–ª–∏ –∏–∑ —Ñ–∞–π–ª–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ shell (`.bashrc`, `.bash_profile` –∏ —Ç.–¥.).

4. **–ö–∞–∫ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤**. –î–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–æ–≤ –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã:

   ```bash
   # –õ–æ–≥–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
   docker logs unicnetbackend
   docker logs unicnetfrontend
   docker logs unicnetlogger
   docker logs unicnetvault
   docker logs unicnetsyslog
   docker logs unicnetrouter
   docker logs unicnetpostgres
   docker logs unicnetmongo
   docker logs unicnetkeycloak
   
   # –õ–æ–≥–∏ —Å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ–º –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ (follow)
   docker logs -f unicnetbackend
   docker logs -f unicnetfrontend
   
   # –ü–æ—Å–ª–µ–¥–Ω–∏–µ N —Å—Ç—Ä–æ–∫ –ª–æ–≥–æ–≤
   docker logs --tail 100 unicnetbackend
   
   # –õ–æ–≥–∏ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π —á–∞—Å
   docker logs --since 1h unicnetbackend
   
   # –õ–æ–≥–∏ –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ unicnet
   docker ps --filter "name=unicnet" --format "{{.Names}}" | xargs -I {} sh -c 'echo "=== {} ===" && docker logs --tail 50 {}'
   ```

5. **–ö–∞–∫ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö**. –î–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:

   ```bash
   # –í—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
   docker exec unicnetbackend env
   docker exec unicnetfrontend env
   docker exec unicnetlogger env
   docker exec unicnetvault env
   docker exec unicnetsyslog env
   docker exec unicnetrouter env
   
   # –û—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
   docker exec unicnetbackend env | sort
   
   # –¢–æ–ª—å–∫–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –ª–∏—Ü–µ–Ω–∑–∏–µ–π
   docker exec unicnetbackend env | grep -i license
   
   # –í—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ unicnet
   docker ps --filter "name=unicnet" --format "{{.Names}}" | xargs -I {} sh -c 'echo "=== {} ===" && docker exec {} env | sort'
   
   # –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –∏–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
   docker exec unicnetbackend sh -c 'echo $UniCommLicenseData'
   ```

6. **–ü—Ä–æ–±–ª–µ–º—ã —Å —Å–µ–∫—Ä–µ—Ç–æ–º –≤ Vault**. –ï—Å–ª–∏ —É –≤–∞—Å –ø—Ä–æ–±–ª–µ–º—ã —Å —Å–µ–∫—Ä–µ—Ç–æ–º –≤ Vault (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–µ–∫—Ä–µ—Ç –Ω–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è –∏–ª–∏ –Ω–µ —á–∏—Ç–∞–µ—Ç—Å—è), –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —É–¥–∞–ª–∏—Ç—å –∫–æ–ª–ª–µ–∫—Ü–∏—é –≤ MongoDB:

   ```bash
   # –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ MongoDB –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è vault_user
   docker exec -it unicnetmongo mongo vault_db -u ${MONGO_VAULT_USER:-vault_user} -p ${MONGO_VAULT_PASSWORD:-vault_pass_123} --authenticationDatabase vault_db
   
   # –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –≤—Å–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏
   show collections
   
   # –£–¥–∞–ª–∏—Ç–µ –∫–æ–ª–ª–µ–∫—Ü–∏—é —Å —Å–µ–∫—Ä–µ—Ç–∞–º–∏ (–∫–æ–ª–ª–µ–∫—Ü–∏—è –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è "Secrets")
   db.Secrets.drop()
   
   # –í—ã–π–¥–∏—Ç–µ –∏–∑ MongoDB
   exit
   ```

   –ü–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä Vault:

   ```bash
   docker restart unicnetvault
   ```

   –ó–∞—Ç–µ–º —Å–æ–∑–¥–∞–π—Ç–µ —Å–µ–∫—Ä–µ—Ç –∑–∞–Ω–æ–≤–æ (—Å–º. —à–∞–≥ 8 –≤ —Ä–∞–∑–¥–µ–ª–µ "–†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞").

7. **–ö–∞–∫ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ MongoDB**. –î–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ MongoDB:

   ```bash
   # –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ MongoDB –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É
   docker exec -it unicnetmongo mongo admin -u ${MONGO_INITDB_ROOT_USERNAME} -p ${MONGO_INITDB_ROOT_PASSWORD}
   
   # –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤–æ –≤—Å–µ—Ö –±–∞–∑–∞—Ö –¥–∞–Ω–Ω—ã—Ö
   db.getUsers()
   
   # –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
   use unicnet_db
   db.getUsers()
   
   # –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —á–µ—Ä–µ–∑ admin –±–∞–∑—É
   use admin
   db.system.users.find().pretty()
   
   # –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –¥–ª—è –∫–∞–∂–¥–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
   use unicnet_db
   db.getUsers()
   
   use logger_db
   db.getUsers()
   
   use vault_db
   db.getUsers()
   
   # –í—ã–π–¥–∏—Ç–µ –∏–∑ MongoDB
   exit
   ```

   –ò–ª–∏ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π –∏–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞:

   ```bash
   # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö unicnet_db
   docker exec -it unicnetmongo mongo admin -u ${MONGO_INITDB_ROOT_USERNAME} -p ${MONGO_INITDB_ROOT_PASSWORD} --eval "db.getSiblingDB('unicnet_db').getUsers()"
   
   # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö logger_db
   docker exec -it unicnetmongo mongo admin -u ${MONGO_INITDB_ROOT_USERNAME} -p ${MONGO_INITDB_ROOT_PASSWORD} --eval "db.getSiblingDB('logger_db').getUsers()"
   
   # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö vault_db
   docker exec -it unicnetmongo mongo admin -u ${MONGO_INITDB_ROOT_USERNAME} -p ${MONGO_INITDB_ROOT_PASSWORD} --eval "db.getSiblingDB('vault_db').getUsers()"
   ```




